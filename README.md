# PayrollMaster è–ªèµ„ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªç°ä»£åŒ–çš„è–ªèµ„è®¡ç®—å’Œç®¡ç†ç³»ç»Ÿï¼ŒåŸºäºFastAPI + Next.jsæ„å»ºã€‚

## ğŸš€ æŠ€æœ¯æ ˆ

### åç«¯
- **Python 3.11+** - åŸºäºFastAPI 0.104+
- **SQLModel** - Pydantic + SQLAlchemy
- **PostgreSQL** - å…³ç³»å‹æ•°æ®åº“
- **Redis** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨

### å‰ç«¯
- **Next.js 14+** (App Router)
- **React 18+**
- **Tailwind CSS 3.4+**
- **TypeScript**

### å¼€å‘å·¥å…·
- **Docker & Docker Compose** - å®¹å™¨åŒ–éƒ¨ç½²
- **pgAdmin** - PostgreSQLç®¡ç†å·¥å…·
- **pytest** - æµ‹è¯•æ¡†æ¶
- **Ruff** - ä»£ç æ£€æŸ¥

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
PayrollMaster/
â”œâ”€â”€ backend/                 # FastAPI åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ core/           # é…ç½®å’Œæ•°æ®åº“
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ schemas/        # Pydanticæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ api/            # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ tests/              # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ main.py             # åº”ç”¨å…¥å£
â”œâ”€â”€ frontend/               # Next.js å‰ç«¯
â”‚   â”œâ”€â”€ src/app/            # App Routeré¡µé¢
â”‚   â”œâ”€â”€ src/components/     # Reactç»„ä»¶
â”‚   â””â”€â”€ src/lib/            # å·¥å…·åº“
â”œâ”€â”€ docs/                   # ğŸ“š æ‰€æœ‰é¡¹ç›®æ–‡æ¡£ï¼ˆæ•´åˆåï¼‰
â”‚   â”œâ”€â”€ guides/             # é¡¹ç›®æŒ‡å—å’Œè§„èŒƒ
â”‚   â”œâ”€â”€ contracts/          # APIå¥‘çº¦æ–‡æ¡£
â”‚   â”œâ”€â”€ checklists/         # æ£€æŸ¥æ¸…å•
â”‚   â”œâ”€â”€ excel-templates/    # Excelæ¨¡æ¿å’Œè¯´æ˜
â”‚   â”œâ”€â”€ rules/              # ä¸šåŠ¡è§„åˆ™æ–‡æ¡£
â”‚   â”œâ”€â”€ roles-permissions.md # è§’è‰²æƒé™ç®¡ç†æ–‡æ¡£ â­
â”‚   â”œâ”€â”€ model.md            # æ•°æ®æ¨¡å‹è®¾è®¡
â”‚   â”œâ”€â”€ research.md         # æŠ€æœ¯ç ”ç©¶æŠ¥å‘Š
â”‚   â””â”€â”€ quickstart.md       # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ specs/                  # Speckitæ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£
â”‚   â”œâ”€â”€ spec.md             # åŠŸèƒ½è§„æ ¼è¯´æ˜ä¹¦
â”‚   â”œâ”€â”€ plan.md             # å®æ–½è®¡åˆ’
â”‚   â””â”€â”€ tasks.md            # ä»»åŠ¡æ¸…å•
â”œâ”€â”€ scripts/                # å·¥å…·è„šæœ¬
â””â”€â”€ docker-compose.yml      # Dockeré…ç½®
```

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.11+
- Node.js 18+
- PostgreSQL 14+
- Docker & Docker Compose

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/EspenCheng/PayrollMaster.git
   cd PayrollMaster
   ```

2. **å¯åŠ¨å¼€å‘ç¯å¢ƒ**
   ```bash
   # ä½¿ç”¨Docker Compose
   docker-compose up -d

   # æˆ–ä½¿ç”¨è„šæœ¬
   ./start-dev.sh
   ```

3. **è®¿é—®åº”ç”¨**
   - å‰ç«¯åº”ç”¨: http://localhost:3000
   - APIæ–‡æ¡£: http://localhost:8000/docs
   - pgAdmin: http://localhost:5050

è¯¦ç»†å®‰è£…è¯´æ˜è¯·å‚è€ƒ [ç¯å¢ƒé…ç½®æŒ‡å—](./docs/setup.md)

## ğŸ“š å®Œæ•´æ–‡æ¡£å¯¼èˆª

### ğŸ“‚ docs/ ç›®å½•æ–‡æ¡£

| æ–‡æ¡£ | æè¿° | é“¾æ¥ |
|------|------|------|
| ç¯å¢ƒé…ç½®æŒ‡å— | ç¯å¢ƒè¦æ±‚ã€å®‰è£…æ­¥éª¤ã€ä¾èµ–ç®¡ç† | [æŸ¥çœ‹](./docs/setup.md) |
| Dockerå¼€å‘æŒ‡å— | Dockerå¼€å‘ç¯å¢ƒé…ç½®ã€ä½¿ç”¨è¯´æ˜ | [æŸ¥çœ‹](./docs/docker.md) |
| å¼€å‘å·¥ä½œæµ | æ··åˆå¼€å‘æ¨¡å¼æµç¨‹ã€è§„èŒƒè¯´æ˜ | [æŸ¥çœ‹](./docs/workflow.md) |
| å˜é‡æ˜ å°„æ–‡æ¡£ | è–ªèµ„è®¡ç®—å˜é‡æ˜ å°„å…³ç³» | [æŸ¥çœ‹](./docs/mapping.md) |
| references/ | å‚è€ƒæ–‡æ¡£ç›®å½• | [æŸ¥çœ‹](./docs/references/) |

### ğŸ“‹ Speckitå·¥ä½œæµæ–‡æ¡£

| ç»„ä»¶ | æè¿° | é“¾æ¥ |
|------|------|------|
| å®ªç«  | é¡¹ç›®å¼€å‘æœ€é«˜å‡†åˆ™å’Œè§„èŒƒ | [æŸ¥çœ‹](./.specify/memory/constitution.md) |
| æ¨¡æ¿ | è§„æ ¼è¯´æ˜ã€å®æ–½è®¡åˆ’ã€ä»»åŠ¡æ¨¡æ¿ | [æŸ¥çœ‹](./.specify/templates/) |
| å‘½ä»¤ | Speckitå‘½ä»¤å‚è€ƒæ–‡æ¡£ | [æŸ¥çœ‹](./.claude/commands/) |

### ğŸ“– Speckitæ ¸å¿ƒæ–‡æ¡£

| æ–‡æ¡£ | æè¿° | ä¼˜å…ˆçº§ | é“¾æ¥ |
|------|------|--------|------|
| åŠŸèƒ½è§„æ ¼è¯´æ˜ä¹¦ | å®šä¹‰ç³»ç»ŸåŠŸèƒ½éœ€æ±‚ã€ç”¨æˆ·æ•…äº‹ | â­â­â­ | [æŸ¥çœ‹](./specs/spec.md) |
| å®æ–½è®¡åˆ’ | æŠ€æœ¯æ–¹æ¡ˆã€æ¶æ„è®¾è®¡ã€å¼€å‘æ­¥éª¤ | â­â­â­ | [æŸ¥çœ‹](./specs/plan.md) |
| ä»»åŠ¡æ¸…å• | åˆ†è§£å…·ä½“å¼€å‘ä»»åŠ¡ | â­â­â­ | [æŸ¥çœ‹](./specs/tasks.md) |

### ğŸ“š é¡¹ç›®æŠ€æœ¯æ–‡æ¡£

| æ–‡æ¡£ | æè¿° | é“¾æ¥ |
|------|------|------|
| æ•°æ®æ¨¡å‹è®¾è®¡ | æ•°æ®åº“ç»“æ„ã€å®ä½“å…³ç³» | [æŸ¥çœ‹](./docs/model.md) |
| æŠ€æœ¯ç ”ç©¶æŠ¥å‘Š | æŠ€æœ¯é€‰å‹ã€è°ƒç ”ç»“æœ | [æŸ¥çœ‹](./docs/research.md) |
| å¿«é€Ÿå¼€å§‹æŒ‡å— | å¿«é€Ÿä¸Šæ‰‹æŒ‡å— | [æŸ¥çœ‹](./docs/quickstart.md) |

### ğŸ“‚ ä¸“é¡¹æ–‡æ¡£

#### è¾…åŠ©æŒ‡å— (guides/)
- [Excelæ ¼å¼è§„èŒƒ](./docs/guides/excel-format.md) - Excelå¯¼å…¥å¯¼å‡ºæ ¼å¼è¯´æ˜
- [å‰ç«¯æ¶æ„è®¾è®¡](./docs/guides/frontend-architecture.md) - å‰ç«¯ç³»ç»Ÿæ¶æ„
- [å‰ç«¯è®¾è®¡è§„èŒƒ](./docs/guides/frontend-design.md) - UI/UXè®¾è®¡æ ‡å‡†
- [é¡¹ç›®ç¼–ç è§„èŒƒ](./docs/guides/coding-standards.md) - é€šç”¨ç¼–ç æ ‡å‡†
- [Pythonç¼–ç è§„èŒƒ](./docs/guides/python-standards.md) - Pythonå¼€å‘è§„èŒƒ
- [æ•°æ®å¯¼å‡ºæ–¹æ¡ˆ](./docs/guides/export-solution.md) - æ•°æ®å¯¼å‡ºè§£å†³æ–¹æ¡ˆ
- [æŠ€æœ¯æ ˆåˆ†æ](./docs/guides/tech-analysis.md) - æŠ€æœ¯é€‰å‹åˆ†æ
- [æŠ€æœ¯æ ˆæ€»ç»“](./docs/guides/tech-summary.md) - æŠ€æœ¯æ ˆæ¦‚è§ˆ

#### APIå¥‘çº¦ (contracts/)
- [APIç«¯ç‚¹è§„èŒƒ](./docs/contracts/api.md) - REST APIæ¥å£å®šä¹‰

#### æ£€æŸ¥æ¸…å• (checklists/)
- [éœ€æ±‚æ£€æŸ¥æ¸…å•](./docs/checklists/checklist.md) - éœ€æ±‚éªŒè¯æ¸…å•
- [ç»¼åˆæ£€æŸ¥æ¸…å•](./docs/checklists/quality-checklist.md) - ç»¼åˆè´¨é‡æ£€æŸ¥

#### Excelæ¨¡æ¿ (excel-templates/)
- [æ¨¡æ¿è¯´æ˜](./docs/excel-templates/templates.md) - Excelæ¨¡æ¿ä½¿ç”¨æŒ‡å—
- [å¯¼å…¥è§„èŒƒ](./docs/excel-templates/import/import-spec.md) - æ•°æ®å¯¼å…¥æ ¼å¼
- [å¯¼å‡ºè§„èŒƒ](./docs/excel-templates/export/export-spec.md) - æ•°æ®å¯¼å‡ºæ ¼å¼
- [Webå±•ç¤ºç»“æ„](./docs/excel-templates/web-display/) - å‰ç«¯è¡¨æ ¼å±•ç¤ºé…ç½®

#### ä¸šåŠ¡è§„åˆ™ (rules/)
- [è–ªèµ„è®¡ç®—é€»è¾‘](./docs/rules/payroll-calculation.md) - è–ªèµ„è®¡ç®—æ ¸å¿ƒç®—æ³•
- [è–ªèµ„å˜é‡å®šä¹‰](./docs/rules/payroll-variables.md) - è–ªèµ„ç›¸å…³å˜é‡è¯´æ˜

#### æƒé™ç®¡ç† â­
- [è§’è‰²æƒé™ç®¡ç†](./docs/roles-permissions.md) - å®Œæ•´çš„RBACæƒé™ç³»ç»Ÿè®¾è®¡
  - 6ç§è§’è‰²å®šä¹‰å’Œæƒé™çŸ©é˜µ
  - è§’è‰²èŒè´£å’Œä¸šåŠ¡åœºæ™¯è¯´æ˜
  - APIæƒé™æ§åˆ¶å’Œå‰ç«¯è·¯ç”±å®ˆå«
  - æ•°æ®èŒƒå›´éš”ç¦»å’Œå®¡è®¡æ—¥å¿—è§„èŒƒ

### ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **æ€»æ–‡æ¡£æ•°**: 44 ä¸ªæ–‡æ¡£æ–‡ä»¶
- **docs/ ç›®å½•**: 40 ä¸ªé¡¹ç›®æ–‡æ¡£ï¼ˆåŒ…å«æ‰€æœ‰æŠ€æœ¯æ–‡æ¡£å’ŒæŒ‡å—ï¼‰
- **specs/ æ ¸å¿ƒ**: 3 ä¸ªSpeckitæ ¸å¿ƒæ–‡æ¡£ï¼ˆspec.md, plan.md, tasks.mdï¼‰
- **Speckitæ–‡æ¡£**: 15 ä¸ªå·¥ä½œæµå’Œæ¨¡æ¿æ–‡ä»¶
- **æ ¹ç›®å½•**: 2 ä¸ªæ–‡ä»¶ï¼ˆREADME.md, CLAUDE.mdï¼‰

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **è–ªèµ„è®¡ç®—å¼•æ“** - æ”¯æŒå¤šç§è®¡ç®—è§„åˆ™ï¼ˆå›ºå®šé‡‘é¢ã€ç™¾åˆ†æ¯”ã€å…¬å¼ï¼‰
- âœ… **å‘˜å·¥ä¿¡æ¯ç®¡ç†** - å®Œæ•´çš„å‘˜å·¥æ¡£æ¡ˆå’Œè€ƒå‹¤æ•°æ®ç®¡ç†
- âœ… **Excelæ•°æ®å¯¼å…¥/å¯¼å‡º** - æ”¯æŒ.xlsx/.xlsæ ¼å¼ï¼Œæ™ºèƒ½æ•°æ®éªŒè¯
- âœ… **æŠ¥è¡¨ç”Ÿæˆ** - å¤šç»´åº¦è–ªèµ„æŠ¥è¡¨ï¼Œæ”¯æŒè‡ªå®šä¹‰å¯¼å‡º

### æƒé™ç®¡ç† â­
- âœ… **6ç§ä¸“ä¸šè§’è‰²** - ç³»ç»Ÿç®¡ç†å‘˜ã€èŒå·¥è°ƒé…ç®¡ç†å‘˜ã€èŒå·¥è€ƒå‹¤ç®¡ç†å‘˜ã€ç¤¾ä¿ç®¡ç†å‘˜ã€è´¢åŠ¡ç®¡ç†å‘˜ã€å•ä½è–ªèµ„æ ¸ç®—å‘˜
- âœ… **ç»†ç²’åº¦æƒé™æ§åˆ¶** - åŸºäºRBACæ¨¡å‹çš„æƒé™ç®¡ç†
- âœ… **æ•°æ®èŒƒå›´éš”ç¦»** - æœ¬å•ä½æ•°æ®éš”ç¦»ï¼Œç¡®ä¿æ•°æ®å®‰å…¨
- âœ… **å®Œæ•´çš„å®¡è®¡æ—¥å¿—** - è®°å½•æ‰€æœ‰å…³é”®æ“ä½œï¼Œæ”¯æŒå®¡è®¡è¿½è¸ª

### æŠ€æœ¯ç‰¹æ€§
- âœ… **APIæ–‡æ¡£å®Œæ•´** - åŸºäºOpenAPI 3.0çš„å®Œæ•´APIæ–‡æ¡£
- âœ… **ç°ä»£åŒ–æ¶æ„** - å‰åç«¯åˆ†ç¦»ï¼Œæ”¯æŒDockerå®¹å™¨åŒ–éƒ¨ç½²
- âœ… **é«˜æ€§èƒ½è®¾è®¡** - æ”¯æŒ1000+å‘˜å·¥è§„æ¨¡ï¼Œ60ç§’å†…å®Œæˆè–ªèµ„è®¡ç®—

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œåç«¯æµ‹è¯•
cd backend
pytest tests/ -v

# ä»£ç æ£€æŸ¥
ruff check .
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ‘¥ è´¡çŒ®

æ¬¢è¿æäº¤ Pull Request å’Œ Issueï¼

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ GitHub Issues è”ç³»æˆ‘ä»¬ã€‚
